{% extends 'librarycore/index.html' %}

{% block maintitle %}{{bookInstance.instanceBook.bookName}} - Instance{%endblock %}

{% block content %}
<div class="container">
	<p>{{bookInstance.instanceSerialNum}}</p>
	<p>{{bookInstance.instanceType}}</p>
</div>

<div class="container" style="margin-bottom:1em;">
	<a class="btn btn-danger" href="{% url 'instance-delete' bookInstance.instanceSerialNum %}">Delete</a>
	<a class="btn btn-secondary" id="btnButtonUpdateShow" onclick="bookInstanceUpdateToggle()">Update</a>
</div>

<div class="container">
	<form action="{% url 'instance-update' bookInstance.instanceSerialNum %}" method="POST" id="updateInstance"
		hidden="true" class="form-inline">
		{% csrf_token %}
		<select name="instanceType" class="form-control custom-select" style="margin: 0 1em;">
			{% for insType, insTypeName in instanceTypes %}
			{% if insType == bookInstance.instanceType %}
			<option value="{{insType}}" selected>{{insTypeName}}</option>
			{% else %}
			<option value="{{insType}}">{{insTypeName}}</option>
			{% endif %}
			{% endfor %}
		</select>
		<input type="hidden" name="instanceSerialNum" value="{{bookInstance.instanceSerialNum}}">
		<br>
		<button class="btn btn-primary form-control">Edit</button>
	</form>
</div>

<script>
	function bookInstanceUpdateToggle() {
		$("#btnButtonUpdateShow").attr("hidden", true);
		$("#updateInstance").attr("hidden", false);
	}
</script>

{% endblock %}
